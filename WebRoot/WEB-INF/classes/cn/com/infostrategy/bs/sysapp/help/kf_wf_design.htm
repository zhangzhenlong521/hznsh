<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=GBK">
<TITLE>工作流设置原则</TITLE>
<style type="text/css"> 
.p_text  { font-size: 12px;};
</style>
</head>
<body>
<p class="p_text">
<font color="red">决定工作流设计的关键需求维度与影响因素有:</font><br>
1.二分,一分,总行报,流程图各不一样<br>
 因为这将产生不同数量的"甬道"!! 最后有四种情况:二分报总行,二分报一分,一分报总行,总行自报<br>
 所以不要强行进行合并!! 否则非常别扭,而且流程监控时,甬道上的名称不对,客户认为是Bug<br>
<br><br>

2.业务部报送还是归口部门(法规部)报送!!<br>
  因为这将在同一个甬道中产生不同数量的环节! 即业务部报送会多一个环节! 即先从业务部报送给法规部! 而法规部报送则直接内部提交!<br>
  所以不要强行合并!!否则很别扭,流程监控也明显不对!<br>

<br>
3.是否要提交给[行领导/办公室],如果有,则又多一个环节!<br>

<br>
4.是由[法规部/行领导]提交给上级,还是由业务部门提交给上级??<br>
<br>

5.业务部门首次提交给法规部之前,是否需要其他部门会签???<br>
<br>

6.在提交法规部或行领导之前是否有校验?即必须先会签了才能提交法规部!必须法规部处理了,才能提交行领导!!<br>
  如果有这种校验,则要在连线上设置公式!!!<br>
<br>

7.在每个环节内部流转时,是否存在只能综合员接收与发出的要求?即综合员永远是出口与入口!!<br>
<br>

8.流程结束是在上游结束,还是必须再回流到下游由流程发起人结束?<br> 
<br>

9.工作流最常见的需求与影响因素就是上面八种,如果情况简单,则一般来说,将第一条与第二条进行组合,理论上最常见的有8种流程图!<br>
  按道理相当部分的业务应该都可以重用这些流程图!但如果不同业务的流程图不一样,则要再乘以业务类型数量!比如合规咨询,法律咨询,案件诉讼等会因上面各种因素而产生变化!<br>
<br><br>

<font color="red">由此我们在设计工作流时必须严格遵守以下原则:</font><br>
1.千万不要违反第一条与第二条因素,即二分报一分与一分报总行,一定要是两个流程图,而不要合成一个! 否则流程配置与拦截器都自受其乱!!!<br>
  同样业务部报送与风险部报送也拆成两个流程图!! 这样就不要弄成大量半路启动了,其他好处也有很多!<br>
<br>

2.机构类型必须是客户实际的,不要把一级支行强行改成二级分行!!!<br> 
  因为客户是有权修改机构类型的,这会让客户感觉是错误! 这个必须符合客户的自然习惯!!<br>
<br>

3.流程图虽然可以重用,但流程分配完全不必要重用,而是坚持"一对一"的关系!!即如果有个业务功能叫"合规咨询",那么就要有个单据类型叫"合规咨询"!!!<br>
  一是因为这样更容易维护,二是这个工作量本身并不大,没有多少重用的价值!!! 三是他们的报表导出可能各不一样,要做好可扩展的准备!!<br>
<br>

4.如果流程图重用了,则拦截器只能配置一个,要坚持流程图与拦截器的类名是"一对一"的关系!!! 即一个流程图一个拦截器类,而不要多个流程图共享一个拦截器!拦截器的类名要有统一的编码规则!!!<br>
  如果存在多个流程图中的拦截器的逻辑其他是一样的(可以重用),那应该将重用的部门写成一个工具类(Util),然后在拦截器类中进行转调!!!<br>
  如果一个流程图被多个业务类型共享了,而拦截器的内容又不一样,则这时拦截器是一个分派器,即先判断一下单据类型与业务类型,然后转调不同的业务拦截器逻辑!!<br>
  总结就是,拦截器其实只是个分派器,可以共享与重用的逻辑写成工具类! 这样做的最大好处就是系统维护性好!!! <br>
<br>

5.表单中的billtype弄成常量,与业务功能一一对应,而业务类型则共享使用一个通用类!!!<br>
  这个通用类中计算出是二分还是一分发起的?是业务部还是风险部发起的,然后拼成一个字符串!比如就叫"风险部_二级分行"或"业务部_一级分行",然后在流程分配中设置好! 这个编码规则要预先统一定义好!!<br>
  这样的好处是结构清晰,维护性好!!<br>
<br><br>

6.流程图中环节编码与连线编码规则在需求阶段一定要统一标准与清晰,这将给后面的拦截器开发,系统维护带来巨大的好处!!切记!!!<br>
<br>

<font color="red">工作流新增主要亮点:</font><br>
1.流程图中环节支持自徨环对应于另外一个小流程图,从而大大简化流程图绘制工作量,与展示!!<br>
<br>

2.流程处理明确区分内部流程与出去的部门,非常符合客户的自然习惯!人性化在为提高!<br>
<br>

3.流程历史记录可以分组显示,比如二级分行/一级分行/总行,默认根据登录人所在机构的机构类型自动选择对应的组! 这将大大简化历史记录感觉乱的问题!<br>
<br>

4.同一组中的不同记录之间,如果是同一个部门的,则使用同一种颜色显示!一目了然,人性化大为提高!<br>
<br>

5.意见全览支持多种风格,可以只显示最后意见! 可以选中指定意见输出,人性化大为提高!<br>
<br>

6.树型展示新增按机构展示,即总共三层,第一层是甬道名称,第二层是环节名称,第三层是处理人名称!是许多客户喜欢的风格!<br>
<br>

7.在按机构关系树展示时,同时还有来龙去脉与横向展示等功能,非常人性化!<br>
<br>

8.工作流意见导出功能更为强大,可以直接配置出多种输出,将表单中的输出与个性化输出充分结合! 可以输出指定环节,指定角色的人员意见!<br>
<br>

</p>
</body>
</html>
